{% extends "layouts/base.html" %}
{% block page_title %}
    Cambia password
{% endblock page_title %}
{% block content %}
    <div class="col-lg-12 bg-secondary p-3">
        <div class="row g-0">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item">
                        <a class="text-light" href="{% url 'impostazioni.profilo.index' %}">Profilo</a>
                    </li>
                    <li class="breadcrumb-item active text-light" aria-current="page">Cambia password</li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="col-lg-12 d-flex flex-grow-1 p-4">
        <div class="row g-0">
            {% if messages %}
                <div class="alert alert-success">
                    {% for message in messages %}
                        <span>{{ message }}</span>
                        <br/>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="row g-0 d-flex flex-grow-1 justify-content-center align-items-center">
            <div class="col-lg-4">
                <form method="post" action="{% url 'account_change_password' %}">
                    {% csrf_token %}
                    <div class="form-group pt-2">
                        <label>Password attuale</label>
                        <input type="password"
                               name="old_password"
                               class="form-control {% if form.oldpassword.errors %}is-invalid{% endif %}"/>
                        {% if form.oldpassword.errors %}<div class="invalid-feedback">{{ form.oldpassword.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group pt-2">
                        <label>Password</label>
                        <input type="password"
                               name="password1"
                               class="form-control {% if form.password1.errors %}is-invalid{% endif %}"/>
                        {% if form.password1.errors %}<div class="invalid-feedback">{{ form.password1.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group pt-2">
                        <label>Conferma password</label>
                        <input type="password"
                               name="password2"
                               class="form-control {% if form.password2.errors %}is-invalid{% endif %}"/>
                        {% if form.password2.errors %}<div class="invalid-feedback">{{ form.password2.errors }}</div>{% endif %}
                    </div>
                    <div class="form-group pt-4">
                        <button type="submit" class="btn btn-primary">Cambia password</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock content %}
{% block header %}
    <div class="g-0 row">{% include "widgets/header.html" %}</div>
{% endblock header %}
{% block topbar-left %}
    {% include "widgets/home-button.html" %}
{% endblock topbar-left %}
{% block topbar-right %}
    {% include "widgets/cart-button.html" %}
    {% include "widgets/account-manage.html" %}
{% endblock topbar-right %}
